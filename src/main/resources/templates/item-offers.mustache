{{<main-structure}}
    {{$tab-title}}
        {{title}}
    {{/tab-title}}
    {{$head-content}}
        <script type="module" src="/scripts/notificationWebSocket.js"></script>
        <script type="module" src="/scripts/offers.js"></script>
    {{/head-content}}
    {{$headline}}
        {{headline}}
    {{/headline}}
    {{$content}}
        <section class="grid gap-4 md:grid-cols-2">
            {{#item}}
                <article class="rounded-lg bg-white shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                    <div class="relative">
                        <img
                                alt="product"
                                class="w-full h-48 object-cover rounded-t-lg"
                                src="https://plus.unsplash.com/premium_photo-1664392147011-2a720f214e01?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cHJvZHVjdHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600"
                        />
                        <div
                                class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors absolute top-2 right-2 bg-green-100 text-green-800">
                            Active
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="font-semibold text-gray-900 text-sm line-clamp-2 flex-1">
                                {{name}}
                            </h3>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center text-sm gap-1 text-gray-600">
                                {{description}}
                            </div>
                            <div class="flex items-center justify-between text-sm text-gray-500 pt-2 border-t">
                                <div class="flex items-center gap-3">
                                    <span class="flex items-center gap-1">
                                      <i class="far fa-eye text-xs"></i>
                                      No. Offers: 124
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            {{/item}}
            <article class="w-full max-w-md  mx-auto px-6 py-5 flex flex-col rounded-md shadow-lg">
                <div>
                    <span class="text-lg font-bold">Current price</span>
                    <span class="text-lg font-bold text-[#E26038]">
                        <span id="current-offer">{{item.price}}</span>
                        USD
                    </span>
                </div>
                <p class="font-semibold mt-4 text-gray-800">Add Offer</p>
                <form id="offer-form" method="POST">
                    <input type="hidden" id="item-uuid" name="item-uuid" value="{{item.uuid}}">
                    <div class="mt-6">
                        <label for="name" class="block text-sm font-medium text-gray-700">Name:</label>
                        <div class="mt-1">
                            <input type="text" id="item-name" name="item-name"
                                   class="block w-full rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:ring-blue-500 focus:border-blue-500 shadow-sm invalid:border-pink-500 invalid:text-pink-600 focus:border-sky-500 focus:outline focus:outline-sky-500 focus:invalid:border-pink-500 focus:invalid:outline-pink-500 sm:text-sm">
                        </div>
                    </div>
                    <div class="mt-6">
                        <label for="amount" class="block text-sm font-medium text-gray-700">Amount:</label>
                        <div class="mt-1">
                            <input type="number" id="item-amount" name="item-amount"
                                   min="{{minPrice}}"
                                   class="block w-full rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:ring-blue-500 focus:border-blue-500 shadow-sm invalid:border-pink-500 invalid:text-pink-600 focus:border-sky-500 focus:outline focus:outline-sky-500 focus:invalid:border-pink-500 focus:invalid:outline-pink-500 sm:text-sm">
                        </div>
                    </div>
                    <div class="mt-6 text-right">
                        <button type="submit"
                                class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg shadow hover:bg-blue-700 transition">
                            Submit
                        </button>
                    </div>
                </form>
            </article>
            <article id="offer-list" class="w-full max-w-md  mx-auto px-6 py-5 flex flex-col rounded-md shadow-lg">
                {{#offers}}
                    {{>offer-list}}
                {{/offers}}
                {{^offers}}
                    No offers yet (Be the first one)
                {{/offers}}
            </article>
        </section>
    {{/content}}
{{/main-structure}}